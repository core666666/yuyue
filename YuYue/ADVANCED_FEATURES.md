# 鱼阅高级阅读功能说明

## 功能概览

本次更新为鱼阅添加了完整的高级阅读体验功能，包括：

### 1. 极简/沉浸模式 ✨
- **功能**：隐藏所有UI元素，只保留阅读内容
- **快捷键**：`F11` 或点击工具栏"🎯 沉浸"按钮
- **用途**：专注阅读，消除干扰

### 2. 多栏排版 📰
- **功能**：支持1栏、2栏、3栏排版
- **切换方式**：点击工具栏"1栏"、"2栏"、"3栏"按钮
- **适用场景**：
  - 1栏：手机、小屏幕
  - 2栏：平板、中等屏幕
  - 3栏：大屏幕、宽屏显示器

### 3. 多套护眼配色 🎨
内置8种精心设计的护眼主题：

| 主题名称 | 背景色 | 文字色 | 适用场景 |
|---------|--------|--------|----------|
| 日间模式 | 浅蓝白 | 深灰 | 白天阅读 |
| 夜间模式 | 深蓝灰 | 浅灰白 | 夜间阅读 |
| 羊皮纸 | 米黄 | 棕色 | 复古风格 |
| 护眼绿 | 淡绿 | 深灰 | 长时间阅读 |
| 海洋蓝 | 浅蓝 | 深蓝 | 清新风格 |
| 樱花粉 | 淡粉 | 深紫 | 温馨风格 |
| 灰度 | 浅灰 | 深灰 | 简约风格 |
| 琥珀 | 淡黄 | 棕色 | 温暖风格 |

**切换方式**：
- 下拉菜单选择主题
- 点击"🎨 主题"按钮快速切换
- 快捷键：`Ctrl+T`

### 4. 自定义主题 🖌️
- **功能**：用户可以自定义背景色和文字色
- **实现**：通过`ReadingTheme`类扩展
- **保存**：自定义主题会保存到用户配置

### 5. 细化排版设置 📐

#### 段落间距
- **范围**：0-20像素
- **默认**：8像素
- **调节**：底部工具栏滑块

#### 行距
- **范围**：1.0-3.0倍
- **默认**：1.6倍字体大小
- **调节**：底部工具栏滑块
- **快捷键**：
  - 增加：`Ctrl+]`
  - 减少：`Ctrl+[`

#### 首行缩进
- **功能**：段落首行自动缩进2个字符
- **开关**：底部工具栏复选框
- **默认**：开启

### 6. 自动翻页 ⏩
- **功能**：定时自动翻到下一页
- **间隔设置**：3-60秒可调
- **默认间隔**：10秒
- **开关**：工具栏"⏩ 自动翻页"按钮
- **适用场景**：
  - 解放双手阅读
  - 跑步机上阅读
  - 做饭时阅读

### 7. 章节跳转 📖

#### 智能章节识别
自动识别以下章节格式：
- `第X章 标题`
- `第X节 标题`
- `Chapter X 标题`
- `1. 标题`
- `【第X章】标题`

#### 章节导航
- **章节列表**：点击"📖 章节"打开侧边栏
- **快速跳转**：点击章节标题直接跳转
- **上下章节**：
  - 上一章：`Ctrl+Up` 或点击"上一章"按钮
  - 下一章：`Ctrl+Down` 或点击"下一章"按钮

### 8. 书签系统 🔖

#### 添加书签
- **方式1**：点击"🔖 书签"面板的"+"按钮
- **方式2**：快捷键 `Ctrl+D`
- **自动命名**：书签1、书签2...
- **可编辑**：支持修改书签名称和备注

#### 管理书签
- **查看**：点击"🔖 书签"打开书签列表
- **跳转**：点击书签名称快速跳转
- **删除**：点击书签右侧"×"按钮
- **排序**：按创建时间倒序排列

#### 书签信息
- 书签名称
- 创建时间
- 位置偏移量
- 备注（可选）

### 9. 专注计时 ⏱️

#### 计时功能
- **自动启动**：打开书籍时自动开始计时
- **手动控制**：点击"⏱️ 计时"按钮暂停/继续
- **实时显示**：工具栏显示当前阅读时长（HH:MM:SS）
- **累计统计**：记录每本书的总阅读时长

#### 计时器操作
- **开始/暂停**：`Ctrl+P`
- **重置**：点击计时器右键菜单
- **保存**：关闭书籍时自动保存

### 10. 阅读统计 📊

#### 统计数据
- **今日阅读时长**：当天累计阅读分钟数
- **阅读进度**：百分比和进度条显示
- **章节进度**：已读章节/总章节数
- **阅读速度**：字数/分钟（计划中）
- **阅读历史**：每日阅读记录（计划中）

#### 查看方式
- 点击"📊 统计"打开统计面板
- 实时更新数据
- 可视化图表展示

## 快捷键汇总

| 功能 | 快捷键 |
|------|--------|
| 沉浸模式 | `F11` |
| 切换主题 | `Ctrl+T` |
| 增大字体 | `Ctrl++` |
| 减小字体 | `Ctrl+-` |
| 上一页 | `PageUp` / `←` |
| 下一页 | `PageDown` / `→` |
| 首页 | `Home` |
| 末页 | `End` |
| 上一章 | `Ctrl+Up` |
| 下一章 | `Ctrl+Down` |
| 添加书签 | `Ctrl+D` |
| 开始/暂停计时 | `Ctrl+P` |
| 保存进度 | `Ctrl+S` |
| 返回书架 | `Esc` |

## 使用建议

### 长时间阅读
1. 选择"护眼绿"或"羊皮纸"主题
2. 调整行距到1.8-2.0
3. 开启首行缩进
4. 启动专注计时
5. 进入沉浸模式

### 快速浏览
1. 增大每页字数（字多按钮）
2. 使用章节跳转快速定位
3. 关闭首行缩进节省空间

### 夜间阅读
1. 选择"夜间模式"主题
2. 降低窗口透明度到80%
3. 适当减小字体亮度

### 多设备同步
- 书签和进度自动保存到本地
- 可通过云同步服务同步配置文件
- 支持导出/导入阅读数据

## 技术实现

### 核心服务
- `ChapterService`：章节识别和提取
- `ReadingTimerService`：阅读计时管理
- `ThemePresets`：主题预设管理

### 数据模型
- `Chapter`：章节信息
- `Bookmark`：书签数据
- `ReadingTheme`：主题配置

### UI组件
- `AdvancedReaderControls.xaml`：高级阅读控件
- 响应式布局，支持多种屏幕尺寸

## 未来计划

- [ ] 阅读速度统计
- [ ] 每日阅读目标设置
- [ ] 阅读成就系统
- [ ] 云端书签同步
- [ ] 语音朗读功能
- [ ] 笔记和批注
- [ ] 阅读热力图
- [ ] 导出阅读报告

## 反馈与建议

如有问题或建议，欢迎提交Issue或Pull Request。
